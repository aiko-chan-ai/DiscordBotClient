"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[98847],{101566:(e,t,n)=>{n.d(t,{Z:()=>Y,$:()=>K});var r=n(495414),o=n(409479),i=n(61209),l=n(95508),a=n(275374),u=n(124453),c=n(598143),s=n(595882),f=n(717187),d=n.n(f),p=n(496486),m=n.n(p),y=n(296602);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return g(e)}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){b(e,t,n[t])}))}return e}function O(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function w(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e,t){S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}function I(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){
var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}var A=new y.Z("UploaderBase.tsx"),T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&S(e,t)}(n,e);var t=x(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST";v(this,n);(r=t.call(this))._token="";r._lastUpdate=0;r._loaded=0;r._aborted=!1;r._errored=!1;r.alreadyStarted=!1;r._handleStart=function(e){r._cancel=e;r.alreadyStarted||r.emit("start",r._file);r.alreadyStarted=!0};r._handleProgress=function(e,t,n){var o=Date.now(),i=(0,s.S)(e,t),l=Math.floor((e-r._loaded)/((o-r._lastUpdate)/1e3));if(null!=n){var a;null===(a=r._file.items)||void 0===a||a.forEach((function(e){e.item.progress=n[e.id]}))}r._lastUpdate=o;r._loaded=e;r._file=O(_({},r._file),{currentSize:t,
progress:i,rate:l});r.emit("progress",r._file)};r._handleError=function(e){var t=e.code,n=e.reason,o=e.body;r.clearProcessingMessageInterval();if(!r._aborted){r._errored=!0;A.log("_handleError: ".concat(t," (").concat(n,") for ").concat(r.id));r.emit("error",r._file,t,o,n);r.removeAllListeners()}};r._handleComplete=function(e){r.clearProcessingMessageInterval();A.log("_handleComplete for ".concat(r.id));r.emit("complete",r._file,e);r.removeAllListeners()};r.id=m().uniqueId("Uploader");r._url=e;r._method=o;return r}var r=n.prototype;r._addAttachmentsToPayload=function(e,t,n){var r=_({},e),o=I(m().get(r,t,[])).concat(I(n));return m().set(r,t,o)};r.clearProcessingMessageInterval=function(){if(null!=this.processingMessageChangeInterval){clearInterval(this.processingMessageChangeInterval);this.processingMessageChangeInterval=void 0}};r.cancel=function(){A.log("cancel() for ".concat(this.id));this._aborted=!0;null!=this._cancel&&this._cancel();this._handleComplete()}
;r.cancelItem=function(e){throw new Error("cancelItem() is not implemented on UploaderBase; must implement cancelItem() on subclass")};r.upload=function(e,t,n){if(null!=this._cancel)throw new Error("Uploader.upload(...): An upload is already in progress.");this._lastUpdate=Date.now();this._loaded=0;this._file={id:this.id,name:e.name,currentSize:0,totalPreCompressionSize:0,compressionProgress:0,progress:0,rate:0,hasImage:!1,hasVideo:!1,attachmentsCount:0,draftContent:null==t?void 0:t.content,channelId:null==t?void 0:t.channel_id,items:n}};return n}(d()),C=n(2590),P=n(493254),j=n(473708);function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t,n,r,o,i,l){try{var a=e[i](l),u=a.value}catch(e){n(e);return}a.done?t(u):Promise.resolve(u).then(r,o)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function l(e){N(i,r,o,l,a,"next",e)}function a(e){N(i,r,o,l,a,"throw",e)}
l(void 0)}))}}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function D(e){D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return D(e)}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){R(e,t,n[t])}))}return e}function z(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Z(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function B(e,t){B=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return B(e,t)}function F(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var G=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var o=D(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Z(this,n)}}var J=function(e,t){var n,r,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:l.label++;return{value:i[1],done:!1};case 5:l.label++;r=i[1];i=[0];continue;case 7:i=l.ops.pop();l.trys.pop();continue;default:if(!(o=l.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1];o=i;break}if(o&&l.label<o[2]){l.label=o[2];l.ops.push(i);break}o[2]&&l.ops.pop();l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},V=new r.Z("CloudUploaderBase.tsx"),Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&B(e,t)}(n,e);var t=H(n);function n(){k(this,n);var e;(e=t.apply(this,arguments)).files=[];return e}var r=n.prototype;r._fileSize=function(){return this.files.reduce((function(e,t){var n;return e+=null!==(n=t.currentSize)&&void 0!==n?n:0}),0)};r.compressAndCheckFileSize=function(){var e=this;return U((function(){var t,n,r,o,l,s,f,d,p,m,y;return J(this,(function(h){switch(h.label){case 0:if(e.files.length>C.dN1){V.log("Too many attachments for ".concat(e.id));e._handleError({code:C.evJ.TOO_MANY_ATTACHMENTS});return[2,!1]}return[3,10];case 1:h.trys.push([1,8,9,10]);o=e.files[Symbol.iterator]();h.label=2;case 2:if(t=(l=o.next()).done)return[3,7];s=l.value;h.label=3;case 3:h.trys.push([3,5,,6]);return[4,s.reactNativeCompressAndExtractData()];case 4:h.sent();if(s.status===c.m.CANCELED){V.log("compressAndCheckFileSize() file has been cancelled for compression - ".concat(s.id));return[3,6]}
if(0===(null!==(f=s.currentSize)&&void 0!==f?f:0)){e._handleError({code:C.evJ.ENTITY_EMPTY});return[2,!1]}d=i.Z.getBasicChannel(s.channelId);if((null!==(p=s.currentSize)&&void 0!==p?p:0)>(0,a.dg)(null==d?void 0:d.guild_id)){e._handleError({code:C.evJ.ENTITY_TOO_LARGE,reason:P.xi.POSTCOMPRESSION_INDIVIDUAL_FILE_TOO_LARGE});return[2,!1]}return[3,6];case 5:m=h.sent();e._handleError(m);return[2,!1];case 6:t=!0;return[3,2];case 7:return[3,10];case 8:y=h.sent();n=!0;r=y;return[3,10];case 9:try{t||null==o.return||o.return()}finally{if(n)throw r}return[7];case 10:if(e._fileSize()>u.zz){e._handleError({code:C.evJ.ENTITY_TOO_LARGE,reason:P.xi.POSTCOMPRESSION_SUM_TOO_LARGE});return[2,!1]}return[2,!0]}}))}))()};r._filesTooLarge=function(){return this.files.some((function(e){return e.error===C.evJ.ENTITY_TOO_LARGE}))};r.setUploadingTextForUI=function(){var e=1===this.files.length&&null!=this.files[0].filename?this.files[0].filename:j.Z.Messages.UPLOADING_FILES.format({count:this.files.length
}),t=this.files.some((function(e){return e.isImage})),n=this.files.some((function(e){return e.isVideo})),r=this._fileSize();V.log("setUploadingTextForUI - total content: ".concat(r," bytes and ").concat(this.files.length," attachments for ").concat(this.id));this._file=z(L({},this._file),{totalPostCompressionSize:r,currentSize:r,name:e,hasVideo:n,hasImage:t,attachmentsCount:this.files.length,items:this.files})};r._recomputeProgress=function(){var e,t=this._recomputeProgressTotal(),n=t.loaded,r=t.total;(0,o.Dn)()&&(e=this._recomputeProgressByFile());this._handleProgress(n,r,e)};r._recomputeProgressTotal=function(){var e=this._fileSize();return{loaded:this.files.reduce((function(e,t){var n;return e+=null!==(n=t.loaded)&&void 0!==n?n:0}),0),total:e}};r._recomputeProgressByFile=function(){var e={};this.files.forEach((function(t){e[t.id]=(0,s.S)(t.loaded,t.currentSize)}));return e};r.cancel=function(){V.log("Cancel called for ".concat(this.id));if(!this._aborted){this._aborted=!0
;null!=this._cancel&&this._cancel();this.files.forEach((function(e){return e.cancel()}));this._handleComplete()}};r.cancelItem=function(e){var t=this;return U((function(){var n,r;return J(this,(function(o){switch(o.label){case 0:V.log("Cancel called for ".concat(t.id," for item ").concat(e));if(null==(n=t.files.find((function(t){return t.id===e}))))return[2];if(n.status===c.m.CANCELED)return[2];r=t.files.indexOf(n);t.files=F(t.files.slice(0,r)).concat(F(t.files.slice(r+1)));t._file=z(L({},t._file),{items:t.files});return[4,(0,l.V)(n)];case 1:o.sent();n.cancel();t.emit("cancel-upload-item",t._file);0===t.files.length&&t.cancel();return[2]}}))}))()};r.failed=function(){return this.files.some((function(e){return e.status===c.m.ERROR}))};r._remainingUploadCount=function(){var e=this.files;return e.length-e.filter((function(e){return e.status===c.m.COMPLETED})).length};r.clear=function(){this.cancel();this.files=[]};return n}(T);function K(e){return $.apply(this,arguments)}function $(){
$=U((function(e){var t,n,r,o=arguments;return J(this,(function(i){switch(i.label){case 0:t=o.length>1&&void 0!==o[1]&&o[1],n=o.length>2?o[2]:void 0;r=e.map((function(e){return new Promise((function(r,o){switch(e.status){case c.m.NOT_STARTED:e.upload();break;case c.m.COMPLETED:r("complete");break;case c.m.ERROR:t&&e.error!==C.evJ.ENTITY_TOO_LARGE?e.upload():o(new Error("File failed to upload"));break;case c.m.CANCELED:o(new Error("Upload is canceled"))}e.on("complete",(function(){r("complete")}));e.on("error",(function(){o(new Error("File ".concat(e.id," failed to upload")))}));e.on("progress",(function(e,t){null==n||n(e,t)}))}))}));return[4,Promise.all(r)];case 1:i.sent();return[2]}}))}));return $.apply(this,arguments)}},385231:(e,t,n)=>{n.d(t,{OU:()=>c,Fi:()=>p,li:()=>f,KF:()=>s,AS:()=>d});n(441143);var r,o,i,l=n(73904),a={__proto__:null,bg:{group:" ",decimal:","},cs:{group:" ",decimal:","},da:{group:".",decimal:","},de:{group:".",decimal:","},el:{group:".",decimal:","},"en-GB":{
group:",",decimal:"."},"en-US":{group:",",decimal:"."},"es-ES":{group:".",decimal:","},fi:{group:" ",decimal:","},fr:{group:"â€¯",decimal:","},hi:{group:",",decimal:"."},hr:{group:".",decimal:","},hu:{group:" ",decimal:","},it:{group:".",decimal:","},ja:{group:",",decimal:"."},ko:{group:",",decimal:"."},lt:{group:" ",decimal:","},nl:{group:".",decimal:","},no:{group:" ",decimal:","},pl:{group:" ",decimal:","},"pt-BR":{group:".",decimal:","},ro:{group:".",decimal:","},ru:{group:" ",decimal:","},"sv-SE":{group:" ",decimal:","},th:{group:",",decimal:"."},tr:{group:".",decimal:","},uk:{group:" ",decimal:","},vi:{group:".",decimal:","},"zh-CN":{group:",",decimal:"."},"zh-TW":{group:",",decimal:"."}},u=n(968696);n(127624);function c(e){return null==e?[]:e.filter((function(t,n){return"text"!==t.type||(n>0&&n<e.length-1?""!==t.text:""!==t.text.trim())}))}function s(e,t){var n=e[t],r="",o=!0,i=!1,l=void 0;try{for(var a,u=n[Symbol.iterator]();!(o=(a=u.next()).done);o=!0){var c=a.value
;switch(c.type){case"text":case"textMention":r+=c.text;break;case"userMention":r+="<@".concat(c.userId,">");break;case"channelMention":r+="<#".concat(c.channelId,">");break;case"roleMention":r+="<@&".concat(c.roleId,">");break;case"emoji":r+=c.surrogate;break;case"customEmoji":r+="<".concat(c.animated?"a":"",":").concat(c.name.replace(/:/g,"").split("~")[0],":").concat(c.emojiId,">")}}}catch(e){i=!0;l=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw l}}return r}function f(e,t){return null==e[t]?null:s(e,t)}function d(e,t){if(e!==i){i=e;var n,l=null!==(n=a[e])&&void 0!==n?n:a["en-US"],c=l.group,s=l.decimal;r=new RegExp(u.Z.escape(c),"g");o=new RegExp(u.Z.escape(s),"g")}return t.replace(r,"").replace(o,".")}function p(e,t){var n,r,o={};if(null==t.options)return null;var i=t.options;(null===(n=i[0])||void 0===n?void 0:n.type)===l.jw.SUB_COMMAND_GROUP&&(i=i[0].options);(null===(r=i[0])||void 0===r?void 0:r.type)===l.jw.SUB_COMMAND&&(i=i[0].options);var a=!0,u=!1,c=void 0;try{
for(var s,f=function(){var t,n=s.value,r=null===(t=e.options)||void 0===t?void 0:t.find((function(e){return e.name===n.name}));if(n.type===l.jw.ATTACHMENT)return"continue";if(null==r?void 0:r.autocomplete)return"continue";o[n.name]=n},d=i[Symbol.iterator]();!(a=(s=d.next()).done);a=!0)f()}catch(e){u=!0;c=e}finally{try{a||null==d.return||d.return()}finally{if(u)throw c}}return o}},698847:(e,t,n)=>{n.d(t,{Z:()=>H,d:()=>Y});var r=n(441143),o=n.n(r),i=n(744564),l=n(665472),a=n(567867),u=n(73904),c=n(769915),s=n(101566),f=n(396043),d=n(99885),p=n(869854),m=n(166076),y=n(358624),h=n(671293),v=n(384411),b=n(284610),g=n(797815),_=n(567403),O=n(255592),w=n(473903),S=n(275374),I=n(72580),E=n(124453),x=n(49621),A=n(849172),T=n(385231),C=n(533404),P=n(272200),j=n(248046),M=n(127624),N=n(2590),U=n(493254),k=n(473708);function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t,n,r,o,i,l){try{var a=e[i](l),u=a.value}catch(e){n(e);return}
a.done?t(u):Promise.resolve(u).then(r,o)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function l(e){D(i,r,o,l,a,"next",e)}function a(e){D(i,r,o,l,a,"throw",e)}l(void 0)}))}}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done);l=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Z=function(e,t){var n,r,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:l.label++;return{value:i[1],done:!1};case 5:l.label++;r=i[1];i=[0];continue;case 7:i=l.ops.pop();l.trys.pop();continue;default:if(!(o=l.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){
l.label=o[1];o=i;break}if(o&&l.label<o[2]){l.label=o[2];l.ops.push(i);break}o[2]&&l.ops.pop();l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},B=function(e,t){var n;return null===(n=null==e?void 0:e.find((function(e){return e.displayName===t})))||void 0===n?void 0:n.value},F=function(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e},i=e.name===(null===(r=n.autocomplete)||void 0===r?void 0:r.name);if(i)return t;if(""===t)return null;var l=A.Z.getAutocompleteLastChoices(n.channel.id,e.name);if(null!=l){var a;return null!==(a=B(l,t))&&void 0!==a?a:o(t)}return o(t)},G=function(e){var t=e.toLowerCase()===M.WO.toLowerCase(),n=e.toLowerCase()===M.Lu.toLowerCase();return t||n?t:null};function H(e,t,n,r,o){return J.apply(this,arguments)}function J(){return(J=L((function(e,t,n,r,l){
var c,s,p,m,y,g,_,w,S,I,E,A,C,M,U,k,R,D,L,z,H,J,Y,$,q,W,X,Q,ee,te,ne,re,oe,ie,le,ae,ue,ce,se,fe,de,pe;return Z(this,(function(Z){switch(Z.label){case 0:null==n.autocomplete&&i.Z.dispatch({type:"APPLICATION_COMMAND_USED",context:n,command:e});return[4,h.Z.unarchiveThreadIfNecessary(n.channel.id)];case 1:Z.sent();p=[];m=[];if(null!=e.options){y=!0,g=!1,_=void 0;try{for(w=e.options[Symbol.iterator]();!(y=(S=w.next()).done);y=!0)if((I=S.value).type!==u.jw.SUB_COMMAND&&I.type!==u.jw.SUB_COMMAND_GROUP&&I.name in t){A=(null===(E=n.autocomplete)||void 0===E?void 0:E.name)===I.name||void 0;C=null;if(I.type!==u.jw.STRING)if(I.type!==u.jw.ATTACHMENT){L=T.OU(t[I.name]);o()(null!=n.autocomplete||1===L.length,'Option "'.concat(I.name,'" expects a single option type'));if(null!=L[0]||A){H=null!==(z=L[0])&&void 0!==z?z:{type:"text",text:""};switch(I.type){case u.jw.CHANNEL:if("channelMention"===H.type)C=H.channelId;else if("text"===H.type)if((0,j.BH)(H.text))C=H.text.trim();else{Y=(0,
d.K)(H.text,null===(J=n.guild)||void 0===J?void 0:J.id,n.channel.id);o()("channelMention"===(null==Y?void 0:Y.type),"Failed to resolve ".concat(H.text));C=Y.channelId}break;case u.jw.ROLE:if("roleMention"===H.type)C=H.roleId;else if("text"===H.type)if((0,j.BH)(H.text))C=H.text.trim();else{q=(0,d.K)(H.text,null===($=n.guild)||void 0===$?void 0:$.id,n.channel.id);o()("roleMention"===(null==q?void 0:q.type),"Failed to resolve ".concat(H.text));C=q.roleId}else"textMention"===H.type&&"@everyone"===H.text&&(C=null===(W=n.guild)||void 0===W?void 0:W.id);break;case u.jw.USER:if("userMention"===H.type)C=H.userId;else if("text"===H.type)if((0,j.BH)(H.text))C=H.text.trim();else{Q=(0,d.K)(H.text,null===(X=n.guild)||void 0===X?void 0:X.id,n.channel.id);o()("userMention"===(null==Q?void 0:Q.type),"Failed to resolve ".concat(H.text));C=Q.userId}break;case u.jw.MENTIONABLE:
"userMention"===H.type?C=H.userId:"roleMention"===H.type?C=H.roleId:"textMention"===H.type&&"@everyone"===H.text?C=null===(ee=n.guild)||void 0===ee?void 0:ee.id:"text"===H.type&&((0,j.BH)(H.text)?C=H.text.trim():"userMention"===(null==(ne=(0,d.K)(H.text,null===(te=n.guild)||void 0===te?void 0:te.id,n.channel.id))?void 0:ne.type)?C=ne.userId:"roleMention"===(null==ne?void 0:ne.type)?C=ne.roleId:"textMention"===(null==ne?void 0:ne.type)&&"@everyone"===ne.text?C=null===(re=n.guild)||void 0===re?void 0:re.id:o()(!1,"Failed to resolve ".concat(H.text)));break;case u.jw.BOOLEAN:"text"===H.type&&(C=G(H.text.trim()));break;case u.jw.INTEGER:if("text"===H.type){oe=H.text.trim();C=null!=I.choices?Number(B(I.choices,oe)):I.autocomplete?F(I,oe,n,Number):Number(T.AS(v.default.locale,oe))}break;case u.jw.NUMBER:if("text"===H.type){ie=H.text.trim();C=null!=I.choices?Number(B(I.choices,ie)):I.autocomplete?F(I,ie,n,Number):Number(T.AS(v.default.locale,ie))}break;default:
o()(!1,"Unsupported option type: ".concat(I.type));continue}o()(null!=n.autocomplete||null!=C,'Unexpected value for option "'.concat(I.name,'"'));null!=C&&p.push({type:I.type,name:I.name,value:C,focused:A})}}else{if(null!=n.autocomplete)continue;if(null==(R=O.Z.getUpload(n.channel.id,I.name,b.d.ChannelMessage)))continue;D=O.Z.getUploads(n.channel.id,b.d.ChannelMessage).findIndex((function(e){return R.id===e.id}));m.push(R);C=D;p.push({type:I.type,name:I.name,value:C,focused:A})}else{k=null!==(U=null===(M=T.li(t,I.name))||void 0===M?void 0:M.trim())&&void 0!==U?U:"";C=null!=I.choices?B(I.choices,k):I.autocomplete?F(I,k,n):k;o()(null!=n.autocomplete||null!=C,'Option "'.concat(I.name,'" expects a value'));null!=C&&p.push({type:I.type,name:I.name,value:C,focused:A})}}}catch(e){g=!0;_=e}finally{try{y||null==w.return||w.return()}finally{if(g)throw _}}}if(null!=e.subCommandPath)for(le=e.subCommandPath.length-1;le>=0;le-=1){ae=e.subCommandPath[le],ue=ae.name,ce=ae.type;p=[{type:ce,name:ue,
options:p}]}if(null!=e.execute){f.ZP.trackWithMetadata(N.rMx.APPLICATION_COMMAND_USED,{command_id:e.id,application_id:e.applicationId,command_type:e.type});return[2,e.execute(p,n)]}if(e.inputType===P.iw.BUILT_IN||e.inputType===P.iw.BUILT_IN_TEXT||e.inputType===P.iw.BUILT_IN_INTEGRATION)return[2];de={version:e.version,id:null!==(se=null===(c=e.rootCommand)||void 0===c?void 0:c.id)&&void 0!==se?se:e.id,guild_id:e.guildId,name:null!==(fe=null===(s=e.rootCommand)||void 0===s?void 0:s.name)&&void 0!==fe?fe:e.name,type:e.type,options:p,application_command:e.rootCommand};pe=function(){V(t)};null!=r&&(de.target_id=r);if(null!=n.autocomplete)(0,x.GV)(e,n,de);else{a.Z.clearAll(n.channel.id,b.d.ChannelMessage);K({applicationId:e.applicationId,data:de,context:n,attachments:m,maxSizeCallback:l,onMessageSuccess:pe,commandDisplayName:e.displayName})}return[2]}}))}))).apply(this,arguments)}var V=function(e){var t=Object.values(e).flatMap((function(e){return e.map((function(e){return"emoji"===e.type?{
name:e.name.replaceAll(":","")}:"customEmoji"===e.type?g.Z.getCustomEmojiById(e.emojiId):null})).filter(I.lm)}));t.length>0&&i.Z.dispatch({type:"EMOJI_TRACK_USAGE",emojiUsed:t})},Y=function(e,t,n){if(e.isCommandType()){var r=t.guild_id;null!=e.interactionData&&K({applicationId:n,data:e.interactionData,context:{channel:t,guild:null!=r?_.Z.getGuild(r):null}})}},K=function(e){var t=e.applicationId,n=e.data,r=e.context,o=e.attachments,a=e.maxSizeCallback,c=e.onMessageSuccess,s=e.commandDisplayName,f=r.channel,d=r.guild,m=f.id,h=null==d?void 0:d.id,v=z(function(e,t,n){var r,o=null===(r=C.ZP.getApplicationSections(e.channel.id,n))||void 0===r?void 0:r.find((function(e){return e.id===t}));if(null!=o){var l,a,u,c=null!==(a=null===(l=o.application)||void 0===l?void 0:l.bot)&&void 0!==a?a:{id:o.id,username:o.name,discriminator:"0000",avatar:null,bot:!0};i.Z.dispatch({type:"STORE_APPLICATION_INTERACTION_FAKE_USER",user:c});return[c,null!==(u=o.application)&&void 0!==u?u:null]}return[null,null]
}(r,t,n.type),2),b=v[0],g=v[1],_=n.type===u.yU.CHAT?N.uaV.CHAT_INPUT_COMMAND:N.uaV.CONTEXT_MENU_COMMAND,O=(0,y.ZP)({channelId:m,content:"",tts:!1,type:_,messageReference:void 0,allowedMentions:void 0,author:null!=b?b:void 0});O.application=null!=g?g:void 0;O.interaction={id:n.id,name:n.name,name_localized:s,type:u.B8.APPLICATION_COMMAND,user:(0,y.pe)(w.default.getCurrentUser())};O.interaction_data=n;var S={applicationId:t,channelId:m,guildId:h,data:n,nonce:O.id,attachments:o,maxSizeCallback:a};l.Z.receiveMessage(m,O,!0,{applicationId:t});p.kz(S.nonce,{messageId:O.id,onCreate:function(e){null!=O.interaction&&(O.interaction.id=e)},onFailure:function(e,t){return function(e,t){null==t&&null!=e&&l.Z.sendClydeError(m,e);i.Z.dispatch({type:"MESSAGE_SEND_FAILED",messageId:O.id,channelId:m,reason:t})}(e,t)},data:{interactionType:u.B8.APPLICATION_COMMAND,channelId:m}});if(null!=o){(function(e,t,n,r){return X.apply(this,arguments)})(o,S.nonce,h,a).then((function(e){e&&$(S,c)}))}else $(S,c)}
;function $(e,t){c.ZP.enqueue({type:c.$V.COMMAND,message:e},(function(n){(0,m.Sg)(e.nonce,n);n.ok&&null!=t&&t()}))}function q(e,t){return W.apply(this,arguments)}function W(){return(W=L((function(e,t){var n,r,o,i,l,a,u,c,s,f,d,p;return Z(this,(function(m){switch(m.label){case 0:n=0;r=0;o=!0,i=!1,l=void 0;m.label=1;case 1:m.trys.push([1,8,9,10]);a=e[Symbol.iterator]();m.label=2;case 2:if(o=(u=a.next()).done)return[3,7];c=u.value;if(!t)return[3,3];d=null!==(s=c.currentSize)&&void 0!==s?s:0;return[3,5];case 3:return[4,c.getSize()];case 4:d=m.sent();m.label=5;case 5:(f=d)>r&&(r=f);n+=f;m.label=6;case 6:o=!0;return[3,2];case 7:return[3,10];case 8:p=m.sent();i=!0;l=p;return[3,10];case 9:try{o||null==a.return||a.return()}finally{if(i)throw l}return[7];case 10:return[2,{totalSize:n,largestUploadedFileSize:r}]}}))}))).apply(this,arguments)}function X(){return(X=L((function(e,t,n,r){var o,i,l,a,u,c,f;return Z(this,(function(d){switch(d.label){case 0:o=e;i=(0,S.dg)(n);l=function(e){
null==r||r(i,e);p.yr(t,N.evJ.ENTITY_TOO_LARGE,k.Z.Messages.UPLOAD_AREA_TOO_LARGE_HELP.format({maxSize:(0,S.Ng)(i)}))};return[4,q(o,!1)];case 1:a=d.sent(),u=a.totalSize;if((c=a.largestUploadedFileSize)>Math.max(i,U.Y1)||u>E.zz){l(c);return[2,!1]}d.label=2;case 2:d.trys.push([2,4,,5]);return[4,(0,s.$)(o)];case 3:d.sent();return[3,5];case 4:d.sent();p.yr(t,void 0,k.Z.Messages.UPLOADING_FILES_FAILED.format({count:o.length}));return[3,5];case 5:return[4,q(o,!0)];case 6:f=d.sent(),u=f.totalSize,c=f.largestUploadedFileSize;if(o.some((function(e){return e.error===N.evJ.ENTITY_TOO_LARGE}))||u>E.zz){l(c);return[2,!1]}return[2,!0]}}))}))).apply(this,arguments)}},99885:(e,t,n)=>{n.d(t,{i:()=>h,K:()=>v});var r=n(732016),o=n(773011),i=n(18882),l=n(61209),a=n(797815),u=n(5544),c=n(21372),s=n(567403),f=n(473903),d=n(504275),p=n(855483);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done);l=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t,n){switch(e[0]){case"@":return function(e,t,n){var r=y(e.slice(1).split("#",2),2),o=r[0],i=r[1];if(null!=i){var a=null!=n?l.Z.getChannel(n):null
;if(null==a)return null;if(a.isPrivate()){var u=!0,f=!1,d=void 0;try{for(var p,m=a.recipients[Symbol.iterator]();!(u=(p=m.next()).done);u=!0){var h=p.value;if(b(o,i,h))return{type:"userMention",userId:h,children:[{text:""}]}}}catch(e){f=!0;d=e}finally{try{u||null==m.return||m.return()}finally{if(f)throw d}}}else{var v=c.ZP.getMembers(t),g=!0,_=!1,O=void 0;try{for(var w,S=v[Symbol.iterator]();!(g=(w=S.next()).done);g=!0){var I=w.value.userId;if(b(o,i,I))return{type:"userMention",userId:I,children:[{text:""}]}}}catch(e){_=!0;O=e}finally{try{g||null==S.return||S.return()}finally{if(_)throw O}}}}else{var E=null!=t?s.Z.getGuild(t):null;if(null==E)return null;var x=!0,A=!1,T=void 0;try{for(var C,P=Object.values(E.roles)[Symbol.iterator]();!(x=(C=P.next()).done);x=!0){var j=C.value;if(o===j.name)return{type:"roleMention",roleId:j.id,children:[{text:""}]}}}catch(e){A=!0;T=e}finally{try{x||null==P.return||P.return()}finally{if(A)throw T}}}return null}(e,t,n);case":":return function(e,t){
var n=r.ZP.EMOJI_NAME_RE.exec(e);if(null==n)return null;var o=n[1],i=a.Z.getDisambiguatedEmojiContext(t).getCustomEmoji();if(null!=i&&o in i){var l=i[o];return{type:"customEmoji",emoji:{emojiId:l.id,name:"require_colons"in l&&l.require_colons?":".concat(l.name,":"):l.name,animated:!0===l.animated,jumboable:!1},children:[{text:""}]}}return null}(e,t);case"#":return function(e,t){if(null==t)return null;var n;n=e.length>3&&'"'===e[1]&&'"'===e[e.length-1]?(0,o.mA)(e.slice(2,e.length-1)):e.slice(1);var r=u.ZP.getTextChannelNameDisambiguations(t),l=!0,a=!1,c=void 0;try{for(var s,f=Object.keys(r)[Symbol.iterator]();!(l=(s=f.next()).done);l=!0){var p=s.value;if(r[p].name===n)return{type:"channelMention",channelId:p,children:[{text:""}]}}}catch(e){a=!0;c=e}finally{try{l||null==f.return||f.return()}finally{if(a)throw c}}var m=!0,y=!1,h=void 0;try{for(var v,b=d.k1[Symbol.iterator]();!(m=(v=b.next()).done);m=!0){var g=v.value;if(g!==u.sH){var _=u.ZP.getChannels(t)[g],O=!0,w=!1,S=void 0;try{
for(var I,E=_[Symbol.iterator]();!(O=(I=E.next()).done);O=!0){var x=I.value.channel;if(x.name===n)return{type:"channelMention",channelId:x.id,children:[{text:""}]}}}catch(e){w=!0;S=e}finally{try{O||null==E.return||E.return()}finally{if(w)throw S}}}}}catch(e){y=!0;h=e}finally{try{m||null==b.return||b.return()}finally{if(y)throw h}}var A=i.Z.getActiveJoinedThreadsForGuild(t),T=!0,C=!1,P=void 0;try{for(var j,M=Object.keys(A)[Symbol.iterator]();!(T=(j=M.next()).done);T=!0){var N=j.value,U=!0,k=!1,R=void 0;try{for(var D,L=Object.keys(A[N])[Symbol.iterator]();!(U=(D=L.next()).done);U=!0){var z=D.value,Z=A[N][z].channel;if(Z.name===n)return{type:"channelMention",channelId:Z.id,children:[{text:""}]}}}catch(e){k=!0;R=e}finally{try{U||null==L.return||L.return()}finally{if(k)throw R}}}}catch(e){C=!0;P=e}finally{try{T||null==M.return||M.return()}finally{if(C)throw P}}return null}(e,t)}return null}function v(e,t,n){var r=h(e,t,n);return null==r?null:(0,p.VI)(r)}function b(e,t,n){
var r=f.default.getUser(n);return null!=r&&(r.username===e&&r.discriminator===t)}}}]);
//# sourceMappingURL=53867a73fb1b08ca4efb.js.map